<section class="telephony-billing-bill">

    <header>
        <section-back-link section-back-link-to-state="telecom.telephony.billing"
                           section-back-link-title="{{ 'telephony_group_billing_actions_group_billing_back_link' | translate }}">
        </section-back-link>
        <h1 data-translate="telephony_group_billing_bill_title"></h1>
    </header>

    <div class="telecom-section-content">

        <toast-message></toast-message>

        <div class="widget-presentation">
            <h2 class="widget-presentation-title"
                data-translate="telephony_group_billing_bill_subtitle">
            </h2>

            <oui-datagrid data-rows="BillingAccountBillCtrl.consumption.raw">
                <oui-column data-title="'telephony_group_billing_bill_date' | translate" data-property="date" data-sortable="desc">
                    {{$row.date | date}}
                </oui-column>
                <oui-column data-title="'telephony_group_billing_bill_amount' | translate" data-property="price.value" data-sortable>
                    {{$row.price.text}}
                </oui-column>
                <oui-column data-title="'telephony_group_billing_bill_paid' | translate" data-property="status" data-sortable>
                    <span class="text-capitalize"
                          data-ng-bind="($row.status === 'done' ? 'yes' : 'no') | translate">
                    </span>
                </oui-column>

                <oui-action-menu data-align="end" data-compact>
                    <oui-action-menu-item
                            data-text="{{'telephony_group_billing_bill_download_pdf' | translate}}"
                            on-click="BillingAccountBillCtrl.download($row, 'pdf')">
                    </oui-action-menu-item>

                    <oui-action-menu-item
                            data-text="{{'telephony_group_billing_bill_download_csv_emited' | translate}}"
                            on-click="BillingAccountBillCtrl.download($row, 'csv')">
                    </oui-action-menu-item>

                    <oui-action-menu-item
                            data-text="{{'telephony_group_billing_bill_download_csv_received' | translate}}"
                            on-click="BillingAccountBillCtrl.download($row, 'received.csv')">
                    </oui-action-menu-item>
                </oui-action-menu>
            </oui-datagrid>



    </div>
    <!-- /.telecom-section-content -->

</section>
<!-- /.telephony-billing-bill -->
